(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){},114:function(e,t,a){},116:function(e,t,a){},118:function(e,t,a){},120:function(e,t,a){},122:function(e,t,a){},124:function(e,t,a){},126:function(e,t,a){},128:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(84),r=a.n(l),i=(a(95),a(19)),m=a(1),o=(a(97),a(85)),u=a(83),s=a(69),d=a(49),E=(a(99),function(e){var t=e.cartQ;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"cartWidget"},c.a.createElement("div",null,c.a.createElement("img",{src:"https://www.svgrepo.com/show/228775/online-store-shopping-cart.svg",alt:"cart widget"})),c.a.createElement("p",null," (",t,") ")))}),v=(a(101),a(103),a(17)),b=a(5),f=Object(n.createContext)(),g=function(e){var t=e.children,a=Object(n.useState)([]),l=Object(b.a)(a,2),r=l[0],i=l[1],m=function(e){return r.some(function(t){return t.id===e})},o=function(e){return r.find(function(t){return t.id===e}).qta};return c.a.createElement(f.Provider,{value:{cartList:r,setCartList:i,addItem:function(e,t,a,n){var c=r.filter(function(t){return t.id!==e}),l=0;m(e)&&(l=o(e)),i([].concat(Object(v.a)(c),[{id:e,qta:l+t,name:a,price:n}]))},deleteItem:function(e){i(r.filter(function(t){return t.id!==e}))},removeList:function(){i([])},cartTotalValue:function(){return r.reduce(function(e,t){return e+t.price*t.qta},0)},isInCart:m,calcItemsQty:function(){return r.reduce(function(e,t){return e+t.qta},0)},existingQty:o}},t)},p=function(){var e=Object(n.useContext)(f).calcItemsQty;return c.a.createElement("div",null,c.a.createElement(s.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},c.a.createElement(o.a,null,c.a.createElement(s.a.Brand,null,c.a.createElement(i.b,{className:"menuLink",to:"/"},"Se pic\xf3")),c.a.createElement(s.a.Toggle,{"aria-controls":"basic-navbar-nav"}),c.a.createElement(s.a.Collapse,{id:"basic-navbar-nav"},c.a.createElement(u.a,{className:"me-auto text-start"},c.a.createElement(d.a,{className:"dropdown",title:"Picadas",bg:"dark",id:"basic-nav-dropdown"},c.a.createElement(d.a.Item,{as:i.b,to:"category/Picadas4/"},"Para 4"),c.a.createElement(d.a.Item,{as:i.b,to:"category/Picadas6"},"Para 6")),c.a.createElement(d.a,{title:"Bebidas",id:"basic-nav-dropdown"},c.a.createElement(d.a.Item,{as:i.b,to:"category/Cervezas"},"Cervezas"),c.a.createElement(d.a.Item,{as:i.b,to:"category/Gaseosas"},"Gaseosas"),c.a.createElement(d.a.Item,{as:i.b,to:"category/Tragos"},"Tragos")),c.a.createElement(u.a.Link,{as:i.b,to:"category/Combos"},"Combos")))),e()>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(i.b,{className:"menuLink",to:"Brief"},c.a.createElement(E,{cartQ:e()})))))},O=a(8),j=a(20),h=(a(110),a(112),function(e){var t=e.children;return c.a.createElement("div",{className:"card"},t)}),C=(a(114),function(e){var t=e.src,a=e.alt,n=void 0===a?"item image":a;return c.a.createElement("div",{className:"avatar"},c.a.createElement("img",{src:t,alt:n}))}),k=function(e){var t=e.item;return c.a.createElement(i.b,{className:"item",to:"/items/".concat(t.id)},c.a.createElement(h,null,c.a.createElement("div",null,c.a.createElement("div",null,t.name),c.a.createElement(C,{src:t.image}),c.a.createElement("div",null,t.description),c.a.createElement("div",null,"Precio: ",t.price),c.a.createElement("div",null,"Stock: ",t.stock))))},y=a(138),N=a(48),I=function(e){var t=e.showModal,a=e.setShowModal,n=e.text,l=function(){a(!t)};return c.a.createElement(y.a,{show:t},c.a.createElement(y.a.Header,{closeButton:!0,onClick:l},c.a.createElement(y.a.Title,null,"Atenc\xedon")),c.a.createElement(y.a.Body,null,n),c.a.createElement(y.a.Footer,null,c.a.createElement(N.a,{variant:"danger",onClick:l},"Close")))},S=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],l=t[1];return setTimeout(function(){l(!a)},300),c.a.createElement("div",null,a?c.a.createElement("div",null,"CaRgAnDo..."):c.a.createElement("div",null,"cArGaNdO..."))},x=(a(116),function(e){var t=Object(n.useContext)(f),a=t.isInCart,l=t.existingQty,r=Object(n.useState)([]),i=Object(b.a)(r,2),o=i[0],u=i[1],s=Object(n.useState)(!1),d=Object(b.a)(s,2),E=d[0],v=d[1],g=Object(n.useState)(!1),p=Object(b.a)(g,2),h=p[0],C=p[1],y=Object(m.n)().categoryId;return Object(n.useEffect)(function(){if(void 0===e.greeting){var t=Object(j.f)(),n=Object(j.b)(t,"itemList"),c=Object(j.g)(n,Object(j.i)("group","==",y));Object(j.e)(c).then(function(e){if(e.empty)v(!0),C(!0);else{var t=e.docs.map(function(e){var t=Object(O.a)({id:e.id},e.data());return a(t.id)&&(t=Object(O.a)({},t,{stock:t.stock-l(t.id)})),t});u(t)}})}},[y]),c.a.createElement("div",null,c.a.createElement("div",{className:"greeting"},e.greeting," "),c.a.createElement(I,{showModal:E,setShowModal:v,text:"Categoria Inexistente"}),0!==o.length||e.greeting?!e.greeting&&o.length>0&&c.a.createElement("div",null,c.a.createElement("div",{className:"itemList"},o.map(function(e){return c.a.createElement(k,{item:e,key:e.id})}))):h?c.a.createElement("div",null," Categoria inexistente "):c.a.createElement(S,null))}),w=(a(118),function(e){var t=e.item,a=e.action;return c.a.createElement("div",{className:"itemDiv"},c.a.createElement(h,null,c.a.createElement("div",{className:"item"},c.a.createElement("div",null,t.name),c.a.createElement(C,{src:t.image}),c.a.createElement("div",{className:"descr"},t.descpriction),c.a.createElement("div",null,"Precio: ",t.price),c.a.createElement("div",null,"Stock: ",t.stock),c.a.createElement("div",null,a))))}),L=(a(120),function(e){var t=e.AddItemButton,a=e.item,l=Object(n.useState)(0),r=Object(b.a)(l,2),i=r[0],m=r[1];return c.a.createElement("div",null,c.a.createElement("p",{onClick:function(){i>0&&m(i-1)}},c.a.createElement("img",{src:"https://svgsilh.com/svg/1270000.svg",alt:"resta resta"})),c.a.createElement("p",null,i),c.a.createElement("p",{onClick:function(){i<a.stock&&m(i+1)}},c.a.createElement("img",{src:"https://svgsilh.com/svg/1721865.svg",alt:"sumo"})),c.a.createElement("div",{className:"addtoCart",onClick:function(){t(i)}},"Agregar"))}),T=(a(122),function(){var e=Object(n.useContext)(f),t=e.addItem,a=e.isInCart,l=e.existingQty,r=Object(m.n)().id,o=Object(n.useState)(),u=Object(b.a)(o,2),s=u[0],d=u[1],E=Object(n.useState)(!1),v=Object(b.a)(E,2),g=v[0],p=v[1],h=Object(n.useState)(""),C=Object(b.a)(h,2),k=C[0],y=C[1],N=Object(n.useState)(!1),x=Object(b.a)(N,2),T=x[0],P=x[1];Object(n.useEffect)(function(){var e=Object(j.f)(),t=Object(j.c)(e,"itemList",r);Object(j.d)(t).then(function(e){if(e.exists()){var t=Object(O.a)({id:e.id},e.data());a(t.id)&&(F("Item ya existente en carrito,se agregar\xe1 la cantidad seleccionada"),t=Object(O.a)({},t,{stock:t.stock-l(t.id)})),d(t),0===t.stock&&(P(!0),F("Producto sin stock"))}else d({name:"ITEM INEXISTENTE"}),P(!0)})},[r]);var B,F=function(e){p(!0),y(e)};return B=T?c.a.createElement(i.b,{className:"endBuy",to:"/Brief"},"Finalizar Compra"):c.a.createElement(L,{AddItemButton:function(e){e>0?(P(!0),t(s.id,e,s.name,s.price)):F("Inserte un valor mayor a cero (0)")},item:s}),s?c.a.createElement(c.a.Fragment,null,c.a.createElement(I,{showModal:g,setShowModal:p,text:k}),c.a.createElement(w,{item:s,action:B})):c.a.createElement(S,null)}),P=(a(124),a(7)),B=(a(126),function(){var e=Object(m.l)(),t=Object(n.useContext)(f),a=t.cartList,l=t.cartTotalValue,r=t.removeList,i=Object(n.useState)({}),o=Object(b.a)(i,2),u=o[0],s=o[1],d=Object(n.useState)({name:"",email:"",phone:""}),E=Object(b.a)(d,2),v=E[0],g=E[1],p=Object(n.useState)(""),h=Object(b.a)(p,2),C=h[0],k=h[1],y=Object(n.useState)(),N=Object(b.a)(y,2),I=N[0],S=N[1],x=function(e){var t=e.target,n=t.value,c=t.name;"emailCheck"===c?k(e.target.value):(g(Object(O.a)({},v,Object(P.a)({},c,n))),s({buyer:v,cart:a,total:l(),estado:"generada",date:Object(j.h)()}))};return c.a.createElement("div",null,"undefined"!==typeof I?c.a.createElement("div",null,"mensaje ",I):c.a.createElement("div",null,c.a.createElement("form",{className:"formDiv",onSubmit:function(t){if(t.preventDefault(),v.email===C){var a=Object(j.f)(),n=Object(j.b)(a,"orders");Object(j.a)(n,u).then(function(t){S(t.id),r(),e("/Checkout/".concat(t.id))})}else alert("Los mail tienen que coincidir")}},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"name"},"Nombre"),c.a.createElement("input",{name:"name",id:"name",required:!0,value:v.name,onChange:x})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"email"},"Email"),c.a.createElement("input",{type:"email",name:"email",id:"email",required:!0,value:v.email,onChange:x})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"emailCheck"},"Repita su Email"),c.a.createElement("input",{type:"email",name:"emailCheck",id:"emailCheck",required:!0,value:v.emailCheck,onChange:x})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"phone"},"Telefono"),c.a.createElement("input",{type:"number",name:"phone",id:"",required:!0,value:v.phone,onChange:x})),c.a.createElement("button",null,"Enviar"))))}),F=function(){var e=Object(n.useContext)(f),t=e.cartList,a=e.deleteItem,l=e.removeList,r=e.cartTotalValue;return t.length>0?c.a.createElement("div",null,c.a.createElement("div",{className:"button",onClick:l},"Vaciar Carrito"),c.a.createElement("div",null,"Compra total:",r()),c.a.createElement("div",{className:"itemList"},t.length>0&&t.map(function(e){return c.a.createElement(h,{key:e.id},c.a.createElement("div",{className:"item"},c.a.createElement("div",null,"ID:",e.id),c.a.createElement("div",null,"Nombre:",e.name),c.a.createElement("div",null,"Precio:",e.price),c.a.createElement("div",null,"Cantidad:",e.qta),c.a.createElement("div",{className:"button",onClick:function(){return a(e.id)}},"Eliminar")))}),c.a.createElement(B,null))):c.a.createElement("div",{className:"menu"},c.a.createElement(i.b,{className:"button",to:"/"},"Volver a home"),c.a.createElement("div",null,"El Carrito se encuentra vacio"))},A=(a(128),function(){var e=Object(m.n)().id,t=Object(n.useState)(),a=Object(b.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)(!0),o=Object(b.a)(i,2),u=o[0],s=o[1],d=Object(n.useState)(),E=Object(b.a)(d,2),v=E[0],f=E[1];return Object(n.useEffect)(function(){var t=Object(j.f)(),a=Object(j.c)(t,"orders",e);Object(j.d)(a).then(function(e){e.exists()?(r(e.data()),e.data().date?f(e.data().date.toDate().toString()):f("dia no registrado")):s(!1)})},[e]),u?l?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,"Hola ",c.a.createElement("span",null,l.buyer.name)),c.a.createElement("div",null,"Su orden"),c.a.createElement("div",{className:"title"}," ",e),c.a.createElement("span",null,"creada el ",v),c.a.createElement("div",null,"ha sido ",c.a.createElement("span",null,l.estado)," correctamente "),c.a.createElement("hr",null),c.a.createElement("div",{className:"title"},"DETTALLE DE COMPRA:"),c.a.createElement("hr",null),l.cart.length>0&&l.cart.map(function(e){return c.a.createElement("div",{key:e.id},c.a.createElement("div",{className:"title"},"ITEM:",e.name),c.a.createElement("div",null,"CANT:",e.qta),c.a.createElement("div",null,"PRECIO:",e.price," c/u."),c.a.createElement("hr",null))}),c.a.createElement("div",{className:"title"},"TOTAL: ",l.total)):c.a.createElement(S,null):c.a.createElement("div",null,"La orden ",e," no existe ")}),q=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(i.a,null,c.a.createElement(g,null,c.a.createElement(p,null),c.a.createElement(m.c,null,c.a.createElement(m.a,{exact:!0,path:"/",element:c.a.createElement(x,{greeting:"Bienvenidos a Se pic\xf3 !"})}),c.a.createElement(m.a,{exact:!0,path:"/category/:categoryId",element:c.a.createElement(x,null)}),c.a.createElement(m.a,{exact:!0,path:"/items/:id",element:c.a.createElement(T,null)}),c.a.createElement(m.a,{exact:!0,path:"/Brief",element:c.a.createElement(F,null)}),c.a.createElement(m.a,{exact:!0,path:"/checkout/:id",element:c.a.createElement(A,null)})))))},D=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,137)).then(function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,l=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),l(e),r(e)})},M=a(86);Object(M.a)({apiKey:"AIzaSyDKANK3qWfwwH8lekoRvPt_Gi__DTzLYmg",authDomain:"enryshop-5d2a1.firebaseapp.com",projectId:"enryshop-5d2a1",storageBucket:"enryshop-5d2a1.appspot.com",messagingSenderId:"264362394803",appId:"1:264362394803:web:77e4b6edffbdaed5269cc6"}),r.a.createRoot(document.getElementById("root")).render(c.a.createElement(q,null)),D()},88:function(e,t,a){e.exports=a(130)},95:function(e,t,a){},97:function(e,t,a){},99:function(e,t,a){}},[[88,3,2]]]);
//# sourceMappingURL=main.f7ba253a.chunk.js.map